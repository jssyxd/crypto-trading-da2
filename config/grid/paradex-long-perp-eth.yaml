# ==============================================================================
# Paradex ETH æ°¸ç»­åˆçº¦åšå¤šç½‘æ ¼é…ç½®
# ==============================================================================
#
# ğŸ¯ ç›®æ ‡ï¼šä½¿ç”¨ Paradex å®˜æ–¹ SDKï¼ˆGTC é™ä»·å• + è‡ªåŠ¨ç­¾åï¼‰è¿è¡Œç¨³å¥å‹åšå¤šç½‘æ ¼
# âœ¨ ç‰¹æ€§ï¼š
#    - Maker 0 æ‰‹ç»­è´¹ï¼Œé¼“åŠ±ä½¿ç”¨é™ä»·å•
#    - 0.05% Taker è´¹ç‡ï¼ˆä»…æ­¢æŸ/æ€¥é€Ÿæ’¤é€€æ—¶è§¦å‘ï¼‰
#    - WebSocket ç§æœ‰é¢‘é“å®æ—¶è·Ÿå•ï¼Œé¿å… REST è½®è¯¢å»¶è¿Ÿ
#
# ä½¿ç”¨æ–¹æ³•ï¼š
#   python run_grid_trading.py --config config/grid/paradex-long-perp-eth.yaml
#
# é£é™©æç¤ºï¼š
#   - è¯·å…ˆç¡®è®¤ .env ä¸­ PARADEX_API_KEY / PARADEX_L2_ADDRESS / PARADEX_WALLET_ADDRESS /
#     PARADEX_JWT_TOKEN å‡å·²é…ç½®ï¼ˆç¼ºä»»ä¸€é¡¹éƒ½ä¼šå¯¼è‡´äº¤æ˜“å¤±è´¥ï¼‰
#   - Paradex ä¸‹å•é»˜è®¤ GTCï¼Œå¯é€šè¿‡ grid_system.order_instruction ä¿®æ”¹ä¸º IOC/FOK/POST_ONLY
#
# ==============================================================================

grid_system:
  # ============================================================================
  # åŸºç¡€é…ç½®
  # ============================================================================
  exchange: "paradex"
  symbol: "ETH/USDC:PERP"          # æ ‡å‡†åŒ–ç¬¦å· -> é€‚é…å™¨è‡ªåŠ¨æ˜ å°„ä¸º ETH-USD-PERP
  maker_fee_rate: 0.0              # Paradex Maker = 0ï¼ˆä¿æŒæŒ‚å•å³å¯å…æ‰‹ç»­è´¹ï¼‰
  taker_fee_rate: 0.0005           # Paradex Taker â‰ˆ 0.05%
  order_instruction: "GTC"         # Paradex æŒ‡å®š instructionï¼Œæ”¯æŒ GTC/IOC/FOK/POST_ONLY
  leverage: 1                      # Paradex é»˜è®¤å…¨ä»“ï¼Œæ æ†ç”±è´¦å·å±‚æ§åˆ¶

  # ----------------------------------------------------------------------------
  # ç½‘æ ¼ç±»å‹ï¼ˆé»˜è®¤è·Ÿéšä»·æ ¼åšå¤šï¼Œäº¦å¯åˆ‡æ¢å›ºå®šèŒƒå›´/é©¬ä¸ï¼‰
  # ----------------------------------------------------------------------------
  grid_type: "follow_long"
  # grid_type: "long"
  # grid_type: "martingale_long"

  # ============================================================================
  # ä»·æ ¼ç§»åŠ¨ç½‘æ ¼å‚æ•°
  # ============================================================================
  follow_grid_count: 80            # è·ŸéšåŒºé—´ 80 æ ¼
  follow_timeout: 1200             # ä»·æ ¼è„±ç¦» 20 åˆ†é’Ÿä»æœªå›å½’åˆ™é‡ç½®
  follow_distance: 2               # å…è®¸åç§» 2 æ ¼
  price_offset_grids: 4            # ç½‘æ ¼åˆå§‹åŒ–æ—¶ï¼Œä¸Šè¾¹ç•Œ = å½“å‰ä»· + 4 æ ¼

  # ============================================================================
  # å›ºå®šèŒƒå›´ / é©¬ä¸å‚æ•°ï¼ˆé»˜è®¤æ³¨é‡Šï¼Œå¯æŒ‰éœ€å¼€å¯ï¼‰
  # ============================================================================
  # lower_price: 2800.0
  # upper_price: 3400.0
  # martingale_increment: 0.0005

  # ============================================================================
  # é€šç”¨ç½‘æ ¼å‚æ•°
  # ============================================================================
  grid_interval: 5.0               # æ¯æ ¼ $5
  order_amount: 0.02               # æ¯æ ¼ 0.02 ETH
  quantity_precision: 3            # Paradex ETH æ”¯æŒ 0.001 ç²¾åº¦
  max_active_orders: 60            # é˜²æ­¢è®¢å•è¿‡å¤šï¼ˆç½‘æ ¼é‡ç½®åè‡ªåŠ¨åˆ·æ–°ï¼‰

  # ============================================================================
  # å‰¥å¤´çš® / ä¿æŠ¤ / æ­¢ç›ˆ / æ­¢æŸ
  # ============================================================================
  scalping_enabled: true
  scalping_trigger_percent: 35     # ä»·æ ¼ä»é¡¶ç«¯å›æ’¤ 35% è§¦å‘å‰¥å¤´çš®
  scalping_take_profit_grids: 2

  capital_protection_enabled: true
  capital_protection_trigger_percent: 30

  take_profit_enabled: true
  take_profit_percentage: 0.003    # 0.3% è´¦æˆ·æ”¶ç›Šå³æ­¢ç›ˆ

  price_lock_enabled: true
  price_lock_threshold: 4200.0     # ETH â‰¥ $4,200 æ—¶é”å®šç½‘æ ¼ï¼Œç­‰å¾…å›è°ƒ

  stop_loss_protection_enabled: true
  stop_loss_trigger_percent: 90.0  # ä»·æ ¼å‡»ç©¿ä¸‹è¾¹ç•Œ 90% è§¦å‘ç´§æ€¥æ’¤é€€
  stop_loss_escape_timeout: 600
  stop_loss_apr_threshold: 40.0    # è¿‘10åˆ†é’Ÿ APR < 40% è§†ä¸ºå¼±åŠ¿ â†’ åœæ­¢ç­–ç•¥

  # ============================================================================
  # è®¢å•å¥åº·æ£€æŸ¥ & æŒä»“å›æŸ¥
  # ============================================================================
  order_health_check_interval: 600       # æ¯ 10 åˆ†é’ŸåŒæ­¥ä¸€æ¬¡ WebSocket / REST è®¢å•
  rest_position_query_interval: 2        # æ¯ 2 ç§’æŸ¥è¯¢ä¸€æ¬¡ä»“ä½ï¼Œæ ¡éªŒ WS æ¨é€

  # ============================================================================
  # é£é™©æç¤º
  # ============================================================================
  # 1. Paradex SDK ä¼šè‡ªåŠ¨ç­¾åï¼Œè¯·å‹¿åœ¨è„šæœ¬ä¸­ä¿å­˜æ˜æ–‡ç§é’¥
  # 2. Maker 0 æ‰‹ç»­è´¹çš„å‰ææ˜¯è®¢å•å¿…é¡»æŒ‚åœ¨ç›˜å£ â‰¥3 ç§’ï¼Œé¢‘ç¹æ’¤å•å¯èƒ½å˜æˆ taker
  # 3. è‹¥ JWT ä¸ºåªè¯»ï¼Œå°†æ— æ³•è®¢é˜…ç§æœ‰é¢‘é“ï¼Œç½‘æ ¼ä¹Ÿæ— æ³•ä¾¦æµ‹æˆäº¤ â†’ è¯·åŠ¡å¿…å¡«å†™ trading JWT
  # 4. å»ºè®®æ­é… `demo/test_paradex_trading_flow.py` å®Œæ•´æµ‹è¯•åå†è¿è¡Œç½‘æ ¼

